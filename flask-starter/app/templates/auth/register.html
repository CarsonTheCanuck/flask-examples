{% extends 'auth/_auth-layout.html' %}
{% set site_title = 'Register' %}

{% block auth_body %}
<form method="POST">
	{{ form.csrf_token }}

	<div class="form-group">
		{% set class = 'form-control is-invalid' if form.username.errors else 'form-control' %}
		{{ form.username.label }}
		{{ form.username(class=class) }}
		{% if form.username.errors %}
		<div class="invalid-feedback">
			<ul>
				{% for error in form.username.errors %}
				<li>{{ error }}</li>
				{% endfor %}
			</ul>
		</div>
		{% endif %}
	</div>

	<div class="form-group">
		{% set class = 'form-control is-invalid' if form.password.errors else 'form-control' %}
		{{ form.password.label }}
		{{ form.password(class=class) }}
		{% if form.password.errors %}
		<div class="invalid-feedback">
			<ul>
				{% for error in form.password.errors %}
				<li>{{ error }}</li>
				{% endfor %}
			</ul>
		</div>
		{% endif %}
	</div>

	<div class="form-group">
		{% set class = 'form-control is-invalid' if form.confirm_password.errors else 'form-control' %}
		{{ form.confirm_password.label }}
		{{ form.confirm_password(class=class) }}
		{% if form.confirm_password.errors %}
		<div class="invalid-feedback">
			<ul>
				{% for error in form.confirm_password.errors %}
				<li>{{ error }}</li>
				{% endfor %}
			</ul>
		</div>
		{% endif %}
	</div>

	{{ form.submit(class='btn btn-primary btn-block', value='register') }}

	<div class="text-center mt-3">
		<a href="{{ url_for('auth.login') }}">or login with an existing account</a>
	</div>

</form>
{% endblock auth_body %}
